<template>
  <svg
    width="95"
    class="egg"
    :class="color"
    viewBox="0 -15 95 174"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g v-if="shadow" :id="`shadow-${eggIndex}`">
      <rect
        x="24.8972"
        y="121.274"
        width="44.0753"
        height="22.6027"
        fill="#3B3F37"
        fill-opacity="0.51"
      />
      <rect
        x="33.1848"
        y="116"
        width="27.8767"
        height="33.9041"
        fill="#3B3F37"
        fill-opacity="0.5"
      />
      <rect
        x="20"
        y="127.301"
        width="55"
        height="10.9247"
        fill="#3B3F37"
        fill-opacity="0.5"
      />
    </g>
    <g :id="`egg-${eggIndex}`">
      <path
        :style="{ fill: 'var(--base-color)' }"
        d="M60.9761 6.33066H33.8726V13.5161H26.8974V33.6011H20.5421V47.2363H6.36499V60.8716H13.698V74.5068V88.142H27.0913V94.9596H33.8724V101.777H60.9671V94.9596H67.9622V88.142H74.3174V81.3244H81.6504V74.322H88.4945V47.2892H81.6504V33.7797H67.4733V19.9659H60.9761V6.33066Z"
        fill="white"
      />
      <path
        d="M33.8784 0V6.75723H60.9714V0H40.6444H33.8784ZM60.9714 6.75723V13.5135H67.7461V6.75723H60.9714ZM67.7461 13.5135V20.2707H74.5199V13.5135H67.7461ZM74.5199 20.2707V33.7793H81.2946V20.2707H74.5199ZM81.2946 33.7793V47.2879H88.0683V33.7793H81.2946ZM88.0683 47.2879V74.3149H94.843V47.2879H88.0683ZM88.0683 74.3149H81.2946V87.8235H88.0683V81.0673V74.3149ZM81.2946 87.8235H67.7432V94.5807H60.9685V101.337H74.5199V94.5807H81.2946V87.8235ZM60.9675 101.332H33.8745V108.089H60.9675V101.332ZM33.8745 101.332V94.5759H27.0998V101.332H33.8745ZM27.0998 94.5759V87.8186H13.5484V94.5759H20.3232H27.0998ZM13.5484 87.8186V74.31H6.77471V87.8186H13.5484ZM6.77471 74.31V47.2831H0V74.31H6.77471ZM6.77471 47.2831H13.5484V33.7745H6.77471V40.5307V47.2831ZM13.5484 33.7745H20.3232V20.2658H13.5484V27.0221V33.7745ZM20.3232 20.2658H27.0969V13.5086H20.3232V20.2658ZM27.0969 13.5086H33.8716V6.75236H27.0969V13.5086Z"
        fill="black"
      />
      <path
        :style="{ fill: 'var(--main-color)' }"
        d="M54.2056 13.5086V33.7764H60.9793V40.5326H74.5307V20.2649H67.7569V13.5076H60.9822L54.2056 13.5086ZM20.3369 20.2658V33.7744H13.5622V47.2831H27.1136V40.5258H33.8883V20.258H27.1136L20.3369 20.2658ZM40.664 47.2928V81.0789H60.991V74.3217H67.7657V54.0539H60.991V47.2977H47.4396L40.664 47.2928ZM67.7569 74.3198V87.8284H81.3083V67.5606H74.5336V74.3168L67.7569 74.3198ZM33.8883 54.052V74.3198H40.662V54.052H33.8883ZM6.79529 60.8092V74.3178H13.569V87.8264H27.1204V67.5586H20.3467V60.8014H13.572L6.79529 60.8092Z"
        fill="#0000DD"
      />
      <path
        opacity="0.2"
        d="M60.9811 13.5086V20.2659H67.7558V13.5086H60.9811ZM67.7558 20.2659V33.7745H74.5296V20.2659H67.7558ZM20.3358 20.2659V33.7745H27.1095V20.2659H20.3358ZM20.3358 33.7745H13.5611V47.2831H20.3358V40.5259V33.7745ZM6.78442 60.8015V74.3101H13.5582V60.8015H6.78442ZM13.5582 74.3101V87.8187H20.3329V74.3101H13.5582ZM74.5296 81.0673V87.8235H81.3043V81.0673H74.5296Z"
        fill="black"
      />
    </g>
  </svg>
</template>

<script>
import gsap from 'gsap'
import { Sine } from 'gsap'
import { onMounted } from 'vue'
export default {
  props: {
    color: {
      type: String,
      default: null,
    },
    speed: {
      type: Number,
      default: null,
    },
    eggIndex: {
      type: Number,
      default: 0,
    },
    shadow: {
      type: Boolean,
      default: true,
    },
  },
  setup(props) {
    onMounted(() => {
      const egg = gsap.timeline({
        repeat: -1,
        yoyo: true,
        repeatDelay: 0.25,
      })
      egg
        .to(`#egg-${props.eggIndex}`, {
          duration: props.speed,
          y: '-=10',
          ease: Sine.easeInOut,
        })
        .to(`#egg-${props.eggIndex}`, {
          duration: props.speed,
          y: '+=10',
          ease: Sine.easeInOut,
        })
      const shadow = gsap.timeline({
        repeat: -1,
        yoyo: true,
        repeatDelay: 0.25,
      })
      shadow
        .to(`#shadow-${props.eggIndex}`, {
          duration: props.speed,
          scale: 0.85,
          transformOrigin: 'center center',
          ease: Sine.easeInOut,
        })
        .to(`#shadow-${props.eggIndex}`, {
          duration: props.speed,
          scale: 1,
          transformOrigin: 'center center',
          ease: Sine.easeInOut,
        })
    })
  },
}
</script>

<style lang="scss" scoped>
.egg {
  width: 100%;
  height: auto;
  align-self: center;
  justify-self: center;
}
</style>
